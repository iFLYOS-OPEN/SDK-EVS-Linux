
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DHAVE_PTHREADS -DHAVE_SYS_UIO_H -DHAVE_ENDIAN_H -std=c++11")
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -DHAVE_PTHREADS -DHAVE_SYS_UIO_H -DHAVE_ENDIAN_H")

aux_source_directory(. DIR_SRCS)
list(REMOVE_ITEM DIR_SRCS ./BlobCache.cpp)
add_library(android_utils SHARED ${DIR_SRCS})
target_link_libraries(android_utils android_cutils pthread)

INSTALL( TARGETS android_utils ${INSTALL_EXPORT}
     RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
     LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
     ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
